/* EcoMarker · styles.css */
:root{
  --bg: #ffffff;
  --text: #1b1b1f;
  --muted: #5c5f66;
  --primary: #2e7d32;     /* green */
  --primary-2: #a5d6a7;   /* light green */
  --surface: #f5f7f5;
  --card: #ffffff;
  --ring: rgba(46,125,50,.35);
  --border: #e5e7eb;
}
:root.dark{
  --bg: #121212;
  --text: #f3f4f6;
  --muted: #c3c6cf;
  --primary: #81c784;
  --primary-2: #2e7d32;
  --surface: #1e1f21;
  --card: #17181a;
  --ring: rgba(129,199,132,.35);
  --border: #2a2d31;
}

*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu;
  background: var(--bg);
  color: var(--text);
}

/* Header / Nav */
.site-header{
  position:sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  padding: .75rem 1rem;
  border-bottom:1px solid var(--border);
  background: color-mix(in oklab, var(--bg), transparent 0%);
  backdrop-filter: blur(6px);
}
.logo{ font-weight:800; text-decoration:none; color:var(--text) }
.logo span{ color:var(--primary) }
.nav .menu{ display:flex; gap:.5rem; margin:0; padding:0; list-style:none; }
.nav .menu a, .btn-link{
  display:inline-flex; align-items:center; gap:.35rem;
  padding:.5rem .75rem; border-radius:10px; text-decoration:none; color:var(--text);
}
.nav .menu a[aria-current="page"]{ background:var(--surface) }
.nav-toggle{ display:none }

/* Hero */
.hero{ display:grid; gap:1rem; grid-template-columns: 1.1fr .9fr; align-items:center; padding: clamp(1rem, 4vw, 3rem); }
.hero-text h1{ font-size: clamp(1.6rem, 3vw, 2.4rem); line-height:1.15; margin:.25rem 0 .5rem }
.hero-text p{ color: var(--muted); margin:0 0 1rem }
.hero-media img{ width:100%; height:auto; border-radius: 16px; object-fit:cover; box-shadow: 0 8px 26px rgba(0,0,0,.15) }
.cta{ display:flex; gap:.5rem; }

/* Cards / Sections */
.features{ display:grid; grid-template-columns: repeat(3, 1fr); gap:.75rem; padding: 0 1rem 1rem }
.card{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 16px; padding: 1rem;
  box-shadow: 0 6px 18px rgba(0,0,0,.05);
}
.section-title{ padding: 0 1rem }
.grid{ padding: 1rem }
.products{ display:grid; grid-template-columns: repeat(auto-fill, minmax(220px,1fr)); gap:.75rem }

.product{
  display:grid; grid-template-rows: 150px auto auto;
  border:1px solid var(--border); border-radius:16px; overflow:hidden; background:var(--card);
}
.product img{ width:100%; height:150px; object-fit:cover }
.product .p-body{ padding:.75rem }
.product .p-meta{ display:flex; align-items:center; justify-content:space-between; }

/* Forms */
.wrapper{ max-width:1100px; margin:0 auto; padding: 1rem }
.wrapper.narrow{ max-width:720px }
.form label{ display:block; margin:.5rem 0 }
.form input, .form textarea, .form select{
  width:100%; padding:.6rem .7rem; border-radius:12px;
  border:1px solid var(--border); background:var(--card); color:var(--text);
  outline: none;
}
.form input:focus, .form textarea:focus, .form select:focus{ box-shadow: 0 0 0 4px var(--ring) }
.form .error{ display:block; color:#c62828; font-size:.85rem; min-height:1.1em; margin-top:.25rem }
.helper{ color: var(--muted) }
.toolbelt{ display:grid; grid-template-columns: 1fr 160px 180px auto; gap:.5rem; margin: .5rem 0 1rem }

/* Buttons */
.btn, .btn.ghost{
  border-radius: 12px; padding: .6rem .9rem; font-weight:600; text-decoration:none;
  display:inline-flex; align-items:center; justify-content:center; gap:.4rem;
  border: 1px solid var(--primary-2);
}
.btn{ background: var(--primary); color: #fff; border-color: var(--primary); }
.btn.ghost{ background: transparent; color: var(--primary) }
.btn:focus-visible{ outline: 3px solid var(--ring) }

/* Footer */
.site-footer{ border-top:1px solid var(--border); padding:1rem; text-align:center; color:var(--muted) }

/* Doc page tweaks */
body.doc .wrapper{ padding-top: 2rem }
.info h2{ margin-top:0 }

/* Responsive */
@media (max-width: 900px){
  .hero{ grid-template-columns: 1fr; }
  .features{ grid-template-columns: 1fr; }
  .nav-toggle{ display:inline-flex; }
  .menu{ display:none }
  .menu.open{ display:flex; flex-direction:column; position:absolute; right:1rem; top:3.25rem; background:var(--card); padding:.5rem; border:1px solid var(--border); border-radius:12px; }
  .toolbelt{ grid-template-columns: 1fr; }
}


/* --- Cart badge & dialog --- */
.badge{
  display:inline-flex; min-width:1.25rem; height:1.25rem; padding:0 .25rem;
  align-items:center; justify-content:center; border-radius:999px;
  font-size:.75rem; background:var(--primary); color:#fff; margin-left:.25rem;
}
#cartDialog::backdrop{ backdrop-filter: blur(3px); background: rgba(0,0,0,.3) }
#cartDialog{ border:none; border-radius:16px; padding:0; width:min(92vw, 520px); }
.cart-panel{ background: var(--card); color: var(--text); border:1px solid var(--border); border-radius:16px; padding: .75rem; }
.cart-header{ display:flex; align-items:center; justify-content:space-between; padding:.25rem .25rem .5rem .5rem; border-bottom:1px solid var(--border); }
.cart-items{ display:grid; gap:.5rem; max-height:50vh; overflow:auto; padding:.75rem .25rem; }
.cart-item{ display:grid; grid-template-columns: 56px 1fr auto; gap:.5rem; align-items:center; border:1px solid var(--border); border-radius:12px; padding:.5rem; background:var(--surface); }
.cart-item img{ width:56px; height:56px; object-fit:cover; border-radius:8px; }
.cart-item h4{ margin:.1rem 0; font-size:.95rem }
.cart-item .meta{ color:var(--muted); font-size:.85rem }
.qty{
  display:inline-flex; align-items:center; gap:.35rem; border:1px solid var(--border); border-radius:999px; padding:.15rem .4rem;
}
.qty button{ background:transparent; border:none; font-weight:700; cursor:pointer }
.cart-footer{ display:flex; align-items:center; justify-content:space-between; border-top:1px solid var(--border); padding:.75rem .25rem .25rem .25rem; }
.cart-actions{ display:flex; gap:.5rem }


/* ===== Visual Refresh · Modern look (gradients + glass + motion) ===== */
:root{
  --radius: 16px;
  --shadow-sm: 0 6px 18px rgba(0,0,0,.06);
  --shadow-md: 0 10px 28px rgba(0,0,0,.12);
  --shadow-lg: 0 20px 44px rgba(0,0,0,.18);
  --gradient: radial-gradient(1200px 600px at 10% -10%, color-mix(in oklab, var(--primary), #6fd 20%), transparent 55%),
              radial-gradient(900px 500px at 110% 0%, color-mix(in oklab, var(--primary), #4da 35%), transparent 60%);
}

:root.dark{
  --shadow-sm: 0 10px 24px rgba(0,0,0,.35);
  --shadow-md: 0 18px 36px rgba(0,0,0,.45);
  --shadow-lg: 0 30px 60px rgba(0,0,0,.55);
  --gradient: radial-gradient(1200px 600px at 10% -10%, color-mix(in oklab, var(--primary), #0b5 10%), transparent 55%),
              radial-gradient(900px 500px at 110% 0%, color-mix(in oklab, var(--primary), #0a4 10%), transparent 60%);
}

body{
  background:
    linear-gradient(180deg, color-mix(in oklab, var(--bg), transparent 0%), color-mix(in oklab, var(--bg), transparent 0%)),
    var(--gradient);
}

/* Header glass */
.site-header{
  background: color-mix(in oklab, var(--card), transparent 25%);
  backdrop-filter: saturate(120%) blur(12px);
  border-bottom: 1px solid color-mix(in oklab, var(--border), transparent 30%);
  box-shadow: var(--shadow-sm);
}
.nav .menu a, .btn-link{ transition: transform .18s ease, background .18s ease; }
.nav .menu a:hover{ background: color-mix(in oklab, var(--surface), var(--primary-2) 10%); transform: translateY(-1px); }

/* Hero with layered glow */
.hero{
  position: relative;
  overflow: hidden;
  border-radius: calc(var(--radius) + 8px);
  box-shadow: var(--shadow-md);
}
.hero::before, .hero::after{
  content:""; position:absolute; inset:-2px;
  background:
    radial-gradient(240px 140px at 15% 20%, color-mix(in oklab, var(--primary), #6fd 25%), transparent 70%),
    radial-gradient(260px 160px at 85% 10%, color-mix(in oklab, var(--primary), #7fb 20%), transparent 72%);
  filter: blur(30px);
  opacity:.25; pointer-events:none;
}
.hero::after{ inset: -12px; filter: blur(60px); opacity:.18; }
.hero-text h1{
  letter-spacing:.2px;
  background: linear-gradient(90deg, var(--text), color-mix(in oklab, var(--text), var(--primary) 28%));
  -webkit-background-clip: text; background-clip: text; color: transparent;
}
.hero .cta .btn{ box-shadow: 0 6px 18px color-mix(in oklab, var(--primary), transparent 70%); }
.hero .cta .btn:hover{ transform: translateY(-1px); box-shadow: 0 12px 26px color-mix(in oklab, var(--primary), transparent 60%); }
.hero .cta .btn.ghost{ border-color: color-mix(in oklab, var(--primary), #fff 40%); }
.hero .cta .btn.ghost:hover{ background: color-mix(in oklab, var(--primary), transparent 90%); }

/* Cards with lift + border glow */
.card{ transition: transform .22s ease, box-shadow .22s ease, border-color .22s ease; box-shadow: var(--shadow-sm); }
.card:hover{ transform: translateY(-3px); box-shadow: var(--shadow-md); border-color: color-mix(in oklab, var(--primary), var(--border) 70%); }

/* Product grid with interactive hover */
.product{
  transition: transform .22s ease, box-shadow .22s ease, outline-color .22s ease;
  outline: 1px solid color-mix(in oklab, var(--border), transparent 60%);
  box-shadow: var(--shadow-sm);
}
.product:hover{ transform: translateY(-4px) scale(1.01); box-shadow: var(--shadow-md); outline-color: color-mix(in oklab, var(--primary), transparent 60%); }
.product img{ transition: transform .35s ease; }
.product:hover img{ transform: scale(1.03); }

/* Buttons: soft, tactile */
.btn, .btn.ghost{ transition: transform .18s ease, box-shadow .18s ease, background .18s ease; }
.btn:hover{ transform: translateY(-1px); }
.btn:active{ transform: translateY(0); }
.btn.ghost:hover{ background: color-mix(in oklab, var(--surface), var(--primary-2) 16%); }

/* Forms: focus ring improved */
.form input:focus, .form textarea:focus, .form select:focus{
  box-shadow: 0 0 0 4px var(--ring), 0 6px 18px rgba(0,0,0,.08);
  border-color: color-mix(in oklab, var(--primary), var(--border) 50%);
}

/* Footer subtle glass */
.site-footer{
  background: color-mix(in oklab, var(--card), transparent 35%);
  box-shadow: inset 0 1px 0 color-mix(in oklab, var(--border), transparent 30%);
  border-top: 1px solid color-mix(in oklab, var(--border), transparent 25%);
}

/* Cart polish */
.cart-panel{ box-shadow: var(--shadow-md); }
.cart-item{ background: color-mix(in oklab, var(--surface), #fff 6%); }
.qty{ background: color-mix(in oklab, var(--card), var(--surface) 20%); }

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce){
  *{ animation: none !important; transition: none !important; }
}

/* Fine-tune spacing on large screens */
@media (min-width: 1200px){
  .hero{ padding: clamp(1rem, 4vw, 4rem); }
  .features{ gap: 1rem; }
  .products{ gap: 1rem; }
}
